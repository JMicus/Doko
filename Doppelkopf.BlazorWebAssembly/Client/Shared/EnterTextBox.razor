@inject IJSRuntime JSRuntime

<textarea id="enterTextBox"
          @oninput=@(args => onTextChanged(args))
          Placeholder=@Placeholder
          style="width: 100%; resize: none"/>

@code{

    [Parameter]
    public string Placeholder { get; set; }

    [Parameter]
    public EventCallback<string> OnEnter { get; set; }


    private void onTextChanged(ChangeEventArgs args)
    {
        var val = args.Value.ToString();
        //Console.WriteLine("CHAT val|" + val + "|");

        if (val.Contains('\n'))
        {
            var text = val.Trim();

            JSRuntime.InvokeVoidAsync("EnterTextBox.clear");
            
            if (!string.IsNullOrWhiteSpace(text))
            {
                OnEnter.InvokeAsync(text);
            }
        }
    }
}